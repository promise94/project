!function(e){function t(o){if(n[o])return n[o].exports;var l=n[o]={exports:{},id:o,loaded:!1};return e[o].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o,l;console.log("load rapidlogin.js"),o=[n(1)],!(l=function(){var e=new Vue({el:"#app",data:{btn_codeval:"获取验证码",phone:"",code:"",btn_code:!1,btn_login:!1},methods:{getCode:function(){if(!e.btn_code){if(this.btn_code=!0,!this.phone)return $.toast("请输入手机号码"),void(this.btn_code=!1);if(!$.verify.mobilePhone({elem:"#J-mobile-phone"}))return $.toast("请输入正确的手机号码"),void(this.btn_code=!1);$.showIndicator(),t(this.phone,60)}},login:function(){if(!e.btn_login){if(e.btn_login=!0,""==this.phone)return $.toast("请输入手机号码"),void(e.btn_login=!1);if(!$.verify.mobilePhone({elem:"#J-mobile-phone"}))return $.toast("请输入正确的手机号码"),void(e.btn_login=!1);if(""==this.code)return $.toast("请输入验证码"),void(e.btn_login=!1);var t=getUrlParams("sourcePage");$.showIndicator(),$.ajax({type:"post",url:Host+"front/user/loginpost",dataType:"jsonp",jsonp:"callback",jsonpCallback:"jsonpCallback",data:{version:version,system:system,lang:lang,APIGEEHEADER2:APIGEEHEADER2,hotelId:hotelId,telphone:this.phone,msgCode:this.code,type:1},success:function(n){e.btn_login=!1,1e3==n.code?($.toast("登录成功."),setTimeout(function(){t.indexOf("searchpassword")>1||t.indexOf("updatepassword")>1||t.indexOf("register")>1?window.location.href=webUrl+"front/index/index?hotelId="+hotelId:window.location.href=t},500)):$.toast(n.message)},complete:function(){$.hideIndicator()},error:function(){e.btn_login=!1,$.toast("网络异常，请检查网络再重试")}})}}},created:function(){}});e.$watch("phone",function(){$.verify.mobilePhone({elem:"#J-mobile-phone"})?e.btn_code=!1:e.btn_code=!0},{immediate:!0}),$(function(){});var t=function(t,n){$.ajax({url:Host+"api/user/sendmsgcode",type:"POST",dataType:"jsonp",jsonp:"callback",jsonpCallback:"jsonpCallback",data:{version:version,system:system,lang:lang,APIGEEHEADER2:APIGEEHEADER2,hotelId:hotelId,telphone:t,type:1},success:function(t){if(1e3!=t.code)return e.btn_code=!1,void $.toast(t.message);$.toast(t.message),e.btn_codeval="已发送";var o=setInterval(function(){n-=1,e.btn_codeval=n+"秒后可重发",0==n&&(clearInterval(o),e.btn_codeval="获取验证码",e.btn_code=!1)},1e3);setTimeout(function(){e.pass_lock=!1},6e4)},complete:function(){$.hideIndicator()},error:function(){e.btn_code=!1,$.toast("网络有点问题，请重试")}})}}.apply(t,o))},function(e,t){!function(e){e.verify={getByte:function(e){for(var t=0,n=0;n<e.length;n++)t+=null!=e[n].match(/[^\x00-\xff]/gi)?2:1;return t},company:function(t){var t=e.extend({elem:null,must:!0},t),n=t.elem instanceof jQuery?t.elem:e(t.elem),o="";if(n.length){var l=n[0].defaultValue,a=e.trim(n.val()),i=/^[A-Za-z0-9_()（）\-\u4e00-\u9fa5]+$/;o=t.must?a!=l&&i.test(a)?a:"":""==a||a==l||(i.test(a)?a:"")}return o},telephone:function(t){var t=e.extend({elem:null,must:!0},t),n=t.elem instanceof jQuery?t.elem:e(t.elem),o="";if(n.length){var l=n[0].defaultValue,a=e.trim(n.val()),i=/^[0-9-]+$/;o=t.must?i.test(a)?a:"":""==a||a==l||(i.test(a)?a:"")}return o},mobilePhone:function(t){var t=e.extend({elem:null,must:!0},t),n=t.elem instanceof jQuery?t.elem:e(t.elem),o="";if(n.length){var l=n[0].defaultValue,a=e.trim(n.val()),i=/^1[3578][01379]\d{8}$/g,s=/^1[34578][01256]\d{8}$/g,r=/^(134[0-8]\d{7}|1[34578][0-47-8]\d{8})$/g;o=t.must?a!=l&&(i.test(a)||s.test(a)||r.test(a))?a:"":""==a||a==l||(reg.test(a)?a:"")}return o},qq:function(t){var t=e.extend({elem:null,must:!1},t),n=t.elem instanceof jQuery?t.elem:e(t.elem),o="";if(n.length){var l=n[0].defaultValue,a=e.trim(n.val()),i=/^[0-9]+$/;o=t.must?a!=l&&i.test(a)?a:"":""==a||a==l||(i.test(a)?a:"")}return o},email:function(t){var t=e.extend({elem:null,must:!1},t),n=t.elem instanceof jQuery?t.elem:e(t.elem),o="";if(n.length){var l=n[0].defaultValue,a=e.trim(n.val()),i=/\w+((-w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+/;o=t.must?a!=l&&i.test(a)?a:"":""==a||a==l||(i.test(a)?a:"")}return o},crCode:function(t){var t=e.extend({elem:null,must:!1},t),n=t.elem instanceof jQuery?t.elem:e(t.elem),o="";if(n.length){var l=n[0].defaultValue,a=e.trim(n.val()),i=/^[A-Za-z0-9_\-\u4e00-\u9fa5]+$/;o=t.must?a!=l&&i.test(a)?a:"":""==a||a==l||(i.test(a)?a:"")}return o},username:function(t){var t=e.extend({elem:null,must:!0},t),n=t.elem instanceof jQuery?t.elem:e(t.elem),o="";if(n.length){var l=n[0].defaultValue,a=e.trim(n.val()),i=/^[A-Za-z0-9_\-\u4e00-\u9fa5]+$/;o=t.must?a==l||!i.test(a)||this.getByte(a)<4||this.getByte(a)>30?"":a:""==a||a==l||(!i.test(a)||this.getByte(a)<4||this.getByte(a)>30?"":a)}return o},password:function(t){var t=e.extend({elem:null,must:!0},t),n=t.elem instanceof jQuery?t.elem:e(t.elem),o="";if(n.length){var l=n[0].defaultValue,a=e.trim(n.val()),i=/^[0-9|a-zA-Z]{6,32}$/;o=t.must?a==l||!i.test(a)||a.indexOf(" ")>-1?"":a:""==a||a==l||(i.test(a)?a:"")}return o}}}(jQuery)}]);